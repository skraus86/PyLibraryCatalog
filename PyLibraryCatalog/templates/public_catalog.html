{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h3>ðŸ“š {{ username }}'s Public Library</h3>
  {% if books %}
  <div class="table-responsive mt-3">
    <table class="table table-striped table-hover">
      <thead class="table-primary">
        <tr>
          <th>Title</th>
          <th>Author(s)</th>
          <th>Publisher</th>
          <th>Published</th>
          <th>ISBN</th>
          <th>In Library</th>
        </tr>
      </thead>
      <tbody>
        {% for book in books|sort(attribute='title') %}
        <tr>
          <td>{{ book['title'] }}</td>
          <td>{{ book['authors'] }}</td>
          <td>{{ book['publisher'] }}</td>
          <td>{{ book['publishedDate'] }}</td>
          <td>{{ book['isbn'] }}</td>
          <td>{{ "Yes" if book['in_library'] else "No" }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
    <p class="mt-3">This public library has no books yet.</p>
  {% endif %}
  <p class="mt-3"><a href="{{ url_for('login') }}">Back to Login</a></p>
</div>
{% endblock %}
